---
import { Picture } from "astro:assets";

interface JobCardProps {
	href: string;
	image: { src: string; alt: string };
	department: string;
	title: string;
	location: string;
	jobType: string;
	publishDate: Date;
	index: number;
}

const { href, image, department, title, location, jobType, publishDate, index } = Astro.props as JobCardProps;
---

<a href={href} class="wireframe-box doodle-border block p-4 hover:opacity-80 transition-opacity">
	<div class="grid md:grid-cols-2 gap-5 md:gap-10 items-center">
		<Picture
			src={image.src}
			alt={image.alt}
			sizes="(max-width: 800px) 100vw, 800px"
			width={800}
			height={600}
			loading={index <= 2 ? "eager" : "lazy"}
			decoding={index <= 2 ? "sync" : "async"}
			class="w-full rounded-md object-cover object-center bg-white"
		/>
		<div>
			<span class="wireframe-text uppercase tracking-wider text-sm font-medium" style="color: var(--color-theme-button);">
				{department}
			</span>

			<h2 class="wireframe-heading text-3xl font-semibold leading-snug tracking-tight mt-1">
				{title}
			</h2>

			<div class="wireframe-text flex gap-2 mt-3 text-sm">
				<span>
					{location}
				</span>
				<span>• </span>
				<span>
					{jobType}
				</span>
				<span>• </span>
				<time
					datetime={publishDate.toISOString()}>
					{publishDate.toDateString()}
				</time>
			</div>
		</div>
	</div>
</a>