---
// ModalContent.astro - Inner content container for modals
// Provides centered modal box with proper spacing and theme-aware styling
interface Props {
  class?: string;
  size?: "sm" | "md" | "lg" | "xl" | "full";
  padding?: "sm" | "md" | "lg";
}

const { 
  class: className = "",
  size = "md",
  padding = "md"
} = Astro.props;

const sizes = {
  sm: "max-w-sm",
  md: "max-w-md", 
  lg: "max-w-lg",
  xl: "max-w-xl",
  full: "max-w-full mx-4"
};

const paddings = {
  sm: "p-4",
  md: "p-6",
  lg: "p-8"
};
---

<div 
  class:list={[
    "modal-content",
    "relative w-full rounded-lg shadow-2xl transform transition-all duration-300 ease-out",
    "theme-card-bg",
    sizes[size],
    paddings[padding],
    className
  ]}
  style="border: 1px solid var(--color-theme-stroke);"
  role="dialog"
  aria-modal="true"
>
  <slot />
</div>

<style>
  .modal-content {
    /* Ensure proper z-index for modal content */
    z-index: 50;
    
    /* Initial state - scaled down and transparent */
    opacity: 0;
    transform: scale(0.95) translateY(10px);
    
    /* Smooth transitions */
    transition: 
      opacity 0.3s ease-out,
      transform 0.3s ease-out;
  }
  
  /* When modal is open, show content with full scale */
  :global(.modal-open) .modal-content {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  
  /* Responsive adjustments */
  @media (max-width: 640px) {
    .modal-content {
      margin: 1rem;
      max-height: calc(100vh - 2rem);
      overflow-y: auto;
    }
  }
  
  /* Ensure content doesn't overflow on small screens */
  @media (max-height: 600px) {
    .modal-content {
      max-height: calc(100vh - 4rem);
      overflow-y: auto;
    }
  }
  
  /* Custom scrollbar for content overflow */
  .modal-content::-webkit-scrollbar {
    width: 6px;
  }
  
  .modal-content::-webkit-scrollbar-track {
    background-color: var(--color-theme-quaternary);
    border-radius: 3px;
  }
  
  .modal-content::-webkit-scrollbar-thumb {
    background-color: var(--color-theme-stroke);
    border-radius: 3px;
  }
  
  .modal-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-theme-button);
  }
</style>